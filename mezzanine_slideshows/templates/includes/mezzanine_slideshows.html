{% load mezzanine_tags staticfiles %}

{% for slideshow in slideshows %}
    {% if slideshow.page.id == page.id %}
        {% with slideshow.galleries.all as galleries %}
        {% for gallery in galleries %}
        <div class="slider col-md-6">
        <div class="slide-viewer">
        <h4>{{ gallery.title }}</h4>
            <div class="slide-group">
                {% with gallery.images.all as images %}
                {% for image in images %}
                <figure>
                    <img src="{{ MEDIA_URL }}{% thumbnail image.file 300 188 padding="True" %}" width="100%" />
                    <figcaption>{{ image.description }}</figcaption>
                </figure>
                {% endfor %}
                {% endwith %}
            </div>
        </div>
        </div>
        {% endfor %}
        {% endwith %}
    {% endif %}
{% endfor %}

<script>
    var opts = {
            //auto-advancing slides? accepts boolean (true/false) or object
            auto : {
                // speed to advance slides at. accepts number of milliseconds
                speed : 2500,
                // pause advancing on mouseover? accepts boolean
                pauseOnHover : true
            },
            // show fullscreen toggle? accepts boolean
            fullScreen : true,
            // support swiping on touch devices? accepts boolean, requires hammer.js
            swipe : true
        };
    makeBSS('.slide-group', opts);
</script>